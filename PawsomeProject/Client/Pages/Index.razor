@page "/"
@inject NavigationManager navigationManager
@inject IAuthService authService


<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">
     

    

<MudGrid>
    @* <MudItem xs="12">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">xs=12</MudPaper>
    </MudItem> *@
    <MudItem xs="12" sm="6" Class="pa-4 d-flex flex-column justify-center">
        <MudText Typo="Typo.h2">Looking to Adopt?</MudText>
        <MudText Typo="Typo.h6" Class="mt-4">Our mission is to help you with the complexitis of the Animal Adoption process, support you throughout and after.</MudText>
           
      
    </MudItem>
    <MudItem xs="12" sm="6"  Class="pa-4">
              <MudImage Src="https://cdn.pixabay.com/photo/2019/08/19/07/45/corgi-4415649_1280.jpg" Fluid="true" Alt="Corgy" Elevation="25" Class="rounded-lg ma-4"/>
    </MudItem>
    <MudItem xs="12" sm="6" >
        <MudPaper Class="pa-8 d-flex flex-column align-center justify-center">
            <MudText Align="Align.Center" Typo="Typo.h3">Animals</MudText>
            <MudText Align="Align.Center"  Typo="Typo.subtitle1" Class="mt-4">take a look at some opptions! They are all adorable and in need of a loving home.</MudText>
            <MudButton Align="Align.Center" Disabled="true" Link="/animals" Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large" Class="mt-4 mx-auto">Pawsome Animals</MudButton>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="6" >
        <MudPaper Class="pa-8 d-flex flex-column align-center justify-center">
            <MudText Align="Align.Center" Typo="Typo.h3">Products</MudText>
            <MudText Align="Align.Center"  Typo="Typo.subtitle1" Class="mt-4">Need to treat your loved one or get ready for his arrival?</MudText>
            <MudButton Align="Align.Center" Link="/shop" Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large" Class="mt-4 mx-auto">Shop</MudButton>
        </MudPaper>
    </MudItem><MudItem xs="12" sm="6" >
        <MudPaper Class="pa-8 d-flex flex-column align-center justify-center">
            <MudText Align="Align.Center" Typo="Typo.h3">Pro Tips</MudText>
            <MudText Align="Align.Center"  Typo="Typo.subtitle1" Class="mt-4">We are here to help you with useful tips and advice</MudText>
            <MudButton Align="Align.Center" Disabled="true" Link="/tips" Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large" Class="mt-4 mx-auto">Get Tips</MudButton>
        </MudPaper>
    </MudItem><MudItem xs="12" sm="6" >
        <MudPaper Class="pa-8 d-flex flex-column align-center justify-center">
            <MudText Align="Align.Center" Typo="Typo.h3">Your Adoption</MudText>
            <MudText Align="Align.Center"  Typo="Typo.subtitle1" Class="mt-4">If you already started a process you can go to your account</MudText>
            @if(CurrentUser == null)
            {
               <MudButton Align="Align.Center" Link="/login" Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large" Class="mt-4 mx-auto">Your Account</MudButton>
            } else 
            {
                <MudButton Align="Align.Center"  Link="/account" Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large" Class="mt-4 mx-auto">Your Account</MudButton>
            }
        </MudPaper>
    </MudItem>
    @* <MudItem xs="12" sm="6">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">xs=6 sm=3</MudPaper>
    </MudItem> *@
</MudGrid>
      
</MudContainer>

@code
{
    private CurrentUser CurrentUser { get; set; } = new CurrentUser();

    string? error { get; set; }

    protected override async Task OnInitializedAsync()
    {
        error = null;
        try
        {
            CurrentUser = await authService.CurrentUserInfo();
            @* navigationManager.NavigateTo(""); *@
        }
        catch (Exception ex)
        {
            error = ex.Message;
        }
    }
}